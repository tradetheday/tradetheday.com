---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import Breadcrumb from '../../../components/Breadcrumb.astro';
import TrustBadges from '../../../components/TrustBadges.astro';
import { getBrokersByPlatform } from '../../../data/brokers';

const pageTitle = "Best MT4 Brokers 2026 - Top MetaTrader 4 Forex Brokers";
const pageDescription = "Compare the best MT4 brokers for 2026. Find regulated MetaTrader 4 forex brokers with tight spreads, fast execution, and EA support. Expert-reviewed.";

const breadcrumbItems = [
  { text: 'Home', href: '/' },
  { text: 'Trading Platforms', href: '/trading-platforms/' },
  { text: 'MetaTrader 4', href: '/trading-platforms/metatrader-4/', current: true }
];

// Sub-pages for internal linking
const mt4SubPages = [
  { title: 'Best MT4 Brokers 2026', url: '/trading-platforms/metatrader-4/best-mt4-brokers/', description: 'Full comparison of top MT4 brokers' }
];

// Get brokers that support MT4
const mt4Brokers = getBrokersByPlatform('MetaTrader 4');

const currentYear = new Date().getFullYear();

const faqData = [
  {
    question: 'What is MetaTrader 4?',
    answer: 'MetaTrader 4 (MT4) is the world\'s most popular forex trading platform, developed by MetaQuotes Software. It offers advanced charting, technical analysis tools, automated trading via Expert Advisors (EAs), and is available on desktop, web, and mobile devices.'
  },
  {
    question: 'Which broker has the best MT4?',
    answer: `For ${currentYear}, AvaTrade offers one of the best MT4 experiences with multi-regulation, competitive spreads, and excellent EA support. Axi is ideal for ECN trading with raw spreads on MT4.`
  },
  {
    question: 'Is MT4 free to use?',
    answer: 'Yes, MT4 is free to download and use. You get the platform for free when you open an account with any MT4 broker. There are no platform fees - brokers make money from spreads and commissions on your trades.'
  },
  {
    question: 'Can I use MT4 on Mac?',
    answer: 'Yes, MT4 works on Mac. Most brokers offer either a native Mac version or recommend using Wine/PlayOnMac. You can also use MT4 WebTrader which runs in any browser, or the MT4 mobile app on iPhone.'
  },
  {
    question: 'What is an Expert Advisor (EA)?',
    answer: 'An Expert Advisor (EA) is an automated trading program that runs on MT4. EAs can analyze markets, generate signals, and execute trades automatically based on pre-programmed rules. MT4 is the most popular platform for running EAs.'
  },
  {
    question: 'MT4 vs MT5 - which is better?',
    answer: 'MT4 is better for forex-focused trading and has wider EA compatibility. MT5 offers more timeframes, built-in economic calendar, and supports more asset classes. Most forex traders still prefer MT4 for its simplicity and EA ecosystem.'
  }
];
---

<BaseLayout title={pageTitle} description={pageDescription}>
  <Fragment slot="breadcrumb">
    <Breadcrumb items={breadcrumbItems} />
  </Fragment>

  <!-- Schema.org markup -->
  <script slot="head" type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "MetaTrader 4",
    "alternateName": "MT4",
    "applicationCategory": "FinanceApplication",
    "operatingSystem": "Windows, macOS, iOS, Android, Web",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.5",
      "ratingCount": "50000"
    }
  })} />

  <script slot="head" type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": faqData.map(faq => ({
      "@type": "Question",
      "name": faq.question,
      "acceptedAnswer": {
        "@type": "Answer",
        "text": faq.answer
      }
    }))
  })} />

  <!-- Hero -->
  <section class="mt4-hero">
    <div class="container">
      <div class="mt4-hero-badge">
        <span class="badge-icon">ðŸ“Š</span>
        <span>World's Most Popular Trading Platform</span>
      </div>
      <h1 class="heading-1">Best MT4 Brokers {currentYear}</h1>
      <p class="body-large mt4-hero-sub">
        Find the best MetaTrader 4 forex brokers with tight spreads, fast execution, and full EA support. All brokers are regulated and expert-reviewed.
      </p>
      <div class="hero-stats">
        <div class="hero-stat">
          <span class="hero-stat-value">{mt4Brokers.length}</span>
          <span class="hero-stat-label">MT4 Brokers</span>
        </div>
        <div class="hero-stat">
          <span class="hero-stat-value">Tier-1</span>
          <span class="hero-stat-label">Regulated</span>
        </div>
        <div class="hero-stat">
          <span class="hero-stat-value">0.0</span>
          <span class="hero-stat-label">Pips From</span>
        </div>
      </div>
    </div>
  </section>

  <TrustBadges variant="light" compact={true} />

  <!-- Best MT4 Brokers List -->
  <section class="section">
    <div class="container">
      <h2 class="heading-2">Best MetaTrader 4 Brokers for {currentYear}</h2>
      <p class="section-intro">Our top-rated brokers offering MetaTrader 4, ranked by spreads, regulation, and overall value.</p>

      <div class="broker-list">
        {mt4Brokers.map((broker, index) => (
          <div class={`broker-card ${index === 0 ? 'broker-card--top' : ''}`}>
            {index === 0 && <span class="top-badge">Editor's Choice</span>}
            <div class="broker-card-rank">#{index + 1}</div>

            <div class="broker-card-main">
              <div class="broker-card-header">
                <h3 class="broker-name">{broker.name}</h3>
                <div class="broker-rating">
                  <span class="rating-score">{broker.scores.overall}</span>
                  <span class="rating-stars">{'â˜…'.repeat(Math.floor(broker.scores.overall))}</span>
                </div>
              </div>

              <p class="broker-tagline">{broker.tagline}</p>

              <div class="broker-stats">
                <div class="broker-stat">
                  <span class="stat-label">Spreads</span>
                  <span class="stat-value">{broker.spreadsFrom}</span>
                </div>
                <div class="broker-stat">
                  <span class="stat-label">Min Deposit</span>
                  <span class="stat-value">{broker.minDepositDisplay}</span>
                </div>
                <div class="broker-stat">
                  <span class="stat-label">Regulation</span>
                  <span class="stat-value">{broker.regulations[0]?.authority}</span>
                </div>
              </div>

              <div class="broker-pros">
                {broker.pros.slice(0, 3).map((pro) => (
                  <span class="pro-item">âœ“ {pro}</span>
                ))}
              </div>
            </div>

            <div class="broker-card-actions">
              <a href={broker.reviewUrl} class="btn btn-secondary">Read Review</a>
              {broker.partnerCode ? (
                <a href={broker.partnerCode.pageUrl} class="btn btn-primary">Get Partner Code â†’</a>
              ) : (
                <a href={broker.affiliateUrl} class="btn btn-primary" target="_blank" rel="noopener sponsored">Visit Broker â†’</a>
              )}
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- What is MT4 -->
  <section class="section section--alt">
    <div class="container">
      <div class="content-grid">
        <div class="content-main">
          <h2 class="heading-2">What is MetaTrader 4?</h2>
          <p>
            MetaTrader 4 (MT4) is the world's most widely used retail forex trading platform. Developed by MetaQuotes Software and released in 2005, it has become the industry standard for forex and CFD trading.
          </p>
          <p>
            MT4 is popular because it combines powerful charting tools, technical analysis capabilities, and automated trading through Expert Advisors (EAs) in one user-friendly package. It's available for free through any MT4-supporting broker.
          </p>

          <h3>Key MT4 Features</h3>
          <ul class="feature-list">
            <li><strong>Expert Advisors (EAs)</strong> - Run automated trading strategies 24/7</li>
            <li><strong>Custom Indicators</strong> - Access thousands of free custom indicators</li>
            <li><strong>30+ Technical Indicators</strong> - Built-in analysis tools</li>
            <li><strong>9 Timeframes</strong> - From 1-minute to monthly charts</li>
            <li><strong>One-Click Trading</strong> - Execute trades instantly</li>
            <li><strong>Mobile Trading</strong> - Full-featured iOS and Android apps</li>
            <li><strong>Alerts</strong> - Price and indicator-based notifications</li>
            <li><strong>Backtesting</strong> - Test EAs on historical data</li>
          </ul>
        </div>

        <div class="content-sidebar">
          <div class="quick-facts">
            <h3>MT4 Quick Facts</h3>
            <dl>
              <dt>Released</dt>
              <dd>2005</dd>
              <dt>Developer</dt>
              <dd>MetaQuotes</dd>
              <dt>Cost</dt>
              <dd>Free</dd>
              <dt>Best For</dt>
              <dd>Forex, EAs</dd>
              <dt>Platforms</dt>
              <dd>Win, Mac, Web, Mobile</dd>
            </dl>
          </div>

          <div class="cta-box">
            <h4>Our Top MT4 Broker</h4>
            <p><strong>AvaTrade</strong> offers MT4 with:</p>
            <ul>
              <li>Multi-regulation (FCA, ASIC)</li>
              <li>0.9 pip spreads</li>
              <li>Full EA support</li>
              <li>Welcome bonus available</li>
            </ul>
            <a href="/brokers/avatrade/partner-code/" class="btn btn-primary btn-full">Get AvaTrade Partner Code</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- How to Choose -->
  <section class="section">
    <div class="container">
      <h2 class="heading-2 text-center">How to Choose an MT4 Broker</h2>
      <p class="section-intro text-center">Not all MT4 brokers are equal. Here's what to look for:</p>

      <div class="criteria-grid">
        <div class="criteria-card">
          <span class="criteria-number">1</span>
          <h3>Regulation</h3>
          <p>Choose brokers regulated by tier-1 authorities like FCA (UK), ASIC (Australia), or CySEC (EU). This ensures fund protection and fair practices.</p>
        </div>
        <div class="criteria-card">
          <span class="criteria-number">2</span>
          <h3>Spreads & Fees</h3>
          <p>Compare spreads on major pairs like EUR/USD. ECN brokers offer raw spreads from 0.0 pips but charge commission. Standard accounts have wider spreads but no commission.</p>
        </div>
        <div class="criteria-card">
          <span class="criteria-number">3</span>
          <h3>Execution Speed</h3>
          <p>For scalping and EA trading, execution speed matters. Look for brokers with servers close to your location and low latency.</p>
        </div>
        <div class="criteria-card">
          <span class="criteria-number">4</span>
          <h3>EA Policy</h3>
          <p>Not all brokers allow all EAs. Check if your broker permits scalping EAs, news trading, and high-frequency strategies.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="section section--alt" id="faq">
    <div class="container">
      <h2 class="heading-2 text-center">MT4 Broker FAQ</h2>

      <div class="faq-container">
        {faqData.map((faq, index) => (
          <div class="faq-item">
            <button class="faq-question" data-faq-index={index}>
              {faq.question}
            </button>
            <div class="faq-answer">
              {faq.answer}
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Final CTA -->
  <section class="section final-cta">
    <div class="container text-center">
      <h2 class="heading-2">Ready to Start Trading on MT4?</h2>
      <p class="body-large">Get exclusive bonuses when you sign up through TradeTheDay.</p>
      <div class="cta-buttons">
        <a href="/brokers/avatrade/partner-code/" class="btn btn-primary btn-lg">AvaTrade Partner Code</a>
        <a href="/brokers/" class="btn btn-secondary btn-lg">Compare All Brokers</a>
      </div>
    </div>
  </section>
</BaseLayout>

<script is:inline>
document.querySelectorAll('.faq-question').forEach(button => {
  button.addEventListener('click', () => {
    const item = button.parentElement;
    const isActive = item.classList.contains('active');
    document.querySelectorAll('.faq-item').forEach(i => i.classList.remove('active'));
    if (!isActive) {
      item.classList.add('active');
    }
  });
});
</script>

<style>
  .mt4-hero {
    padding: var(--space-3xl) 0 var(--space-xl);
    background: linear-gradient(135deg, #0f1419 0%, #1a2028 100%);
    color: white;
    text-align: center;
  }

  .mt4-hero-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-xs);
    background: rgba(255, 255, 255, 0.1);
    padding: var(--space-xs) var(--space-md);
    border-radius: var(--radius-full);
    font-size: var(--font-size-sm);
    margin-bottom: var(--space-md);
  }

  .mt4-hero .heading-1 {
    color: white;
  }

  .mt4-hero-sub {
    color: rgba(255, 255, 255, 0.8);
    max-width: 600px;
    margin: 0 auto var(--space-xl);
  }

  .hero-stats {
    display: flex;
    justify-content: center;
    gap: var(--space-2xl);
    flex-wrap: wrap;
  }

  .hero-stat {
    text-align: center;
  }

  .hero-stat-value {
    display: block;
    font-size: var(--font-size-2xl);
    font-weight: 700;
    color: var(--brand-orange);
  }

  .hero-stat-label {
    font-size: var(--font-size-sm);
    color: rgba(255, 255, 255, 0.6);
  }

  /* Broker List */
  .section-intro {
    color: var(--gray-600);
    margin-bottom: var(--space-xl);
    max-width: 600px;
  }

  .broker-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
  }

  .broker-card {
    display: grid;
    grid-template-columns: auto 1fr auto;
    gap: var(--space-lg);
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: var(--radius-xl);
    padding: var(--space-xl);
    position: relative;
    align-items: center;
  }

  .broker-card--top {
    border-color: var(--brand-orange);
    box-shadow: 0 4px 20px rgba(255, 72, 0, 0.1);
  }

  .top-badge {
    position: absolute;
    top: -1px;
    left: var(--space-xl);
    background: var(--brand-orange);
    color: white;
    font-size: 11px;
    font-weight: 600;
    padding: 4px 12px;
    border-radius: 0 0 var(--radius-sm) var(--radius-sm);
    text-transform: uppercase;
  }

  .broker-card-rank {
    font-size: var(--font-size-2xl);
    font-weight: 800;
    color: var(--gray-300);
    width: 60px;
    text-align: center;
  }

  .broker-card-main {
    flex: 1;
  }

  .broker-card-header {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    margin-bottom: var(--space-xs);
  }

  .broker-name {
    font-size: var(--font-size-xl);
    font-weight: 700;
    color: var(--charcoal);
    margin: 0;
  }

  .broker-rating {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
  }

  .rating-score {
    font-weight: 700;
    color: var(--charcoal);
  }

  .rating-stars {
    color: var(--brand-orange);
    font-size: var(--font-size-sm);
  }

  .broker-tagline {
    color: var(--gray-600);
    margin-bottom: var(--space-md);
  }

  .broker-stats {
    display: flex;
    gap: var(--space-xl);
    margin-bottom: var(--space-md);
  }

  .broker-stat {
    display: flex;
    flex-direction: column;
  }

  .stat-label {
    font-size: 11px;
    color: var(--gray-500);
    text-transform: uppercase;
  }

  .stat-value {
    font-weight: 600;
    color: var(--charcoal);
  }

  .broker-pros {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-sm);
  }

  .pro-item {
    font-size: var(--font-size-sm);
    color: var(--gray-600);
    background: var(--gray-50);
    padding: var(--space-xs) var(--space-sm);
    border-radius: var(--radius-sm);
  }

  .broker-card-actions {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
  }

  /* Content Grid */
  .content-grid {
    display: grid;
    grid-template-columns: 1fr 350px;
    gap: var(--space-2xl);
  }

  .content-main h2 {
    margin-bottom: var(--space-md);
  }

  .content-main h3 {
    margin-top: var(--space-xl);
    margin-bottom: var(--space-md);
    font-size: var(--font-size-lg);
  }

  .content-main p {
    color: var(--gray-700);
    line-height: 1.7;
    margin-bottom: var(--space-md);
  }

  .feature-list {
    list-style: none;
    padding: 0;
  }

  .feature-list li {
    padding: var(--space-sm) 0;
    border-bottom: 1px solid var(--gray-100);
    color: var(--gray-700);
  }

  .quick-facts {
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: var(--radius-xl);
    padding: var(--space-xl);
    margin-bottom: var(--space-lg);
  }

  .quick-facts h3 {
    font-size: var(--font-size-lg);
    margin-bottom: var(--space-md);
  }

  .quick-facts dl {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: var(--space-xs) var(--space-md);
  }

  .quick-facts dt {
    color: var(--gray-500);
    font-size: var(--font-size-sm);
  }

  .quick-facts dd {
    font-weight: 600;
    color: var(--charcoal);
    margin: 0;
  }

  .cta-box {
    background: linear-gradient(135deg, var(--charcoal) 0%, #1a2028 100%);
    color: white;
    border-radius: var(--radius-xl);
    padding: var(--space-xl);
  }

  .cta-box h4 {
    color: var(--brand-orange);
    margin-bottom: var(--space-sm);
  }

  .cta-box p {
    margin-bottom: var(--space-md);
  }

  .cta-box ul {
    list-style: none;
    padding: 0;
    margin-bottom: var(--space-lg);
    font-size: var(--font-size-sm);
  }

  .cta-box li {
    padding: var(--space-xs) 0;
    color: rgba(255, 255, 255, 0.8);
  }

  .cta-box li::before {
    content: 'âœ“ ';
    color: var(--success);
  }

  /* Criteria Grid */
  .criteria-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-lg);
    margin-top: var(--space-xl);
  }

  .criteria-card {
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: var(--radius-xl);
    padding: var(--space-xl);
    position: relative;
  }

  .criteria-number {
    position: absolute;
    top: var(--space-md);
    right: var(--space-md);
    font-size: var(--font-size-3xl);
    font-weight: 800;
    color: var(--gray-100);
  }

  .criteria-card h3 {
    font-size: var(--font-size-lg);
    color: var(--charcoal);
    margin-bottom: var(--space-sm);
  }

  .criteria-card p {
    color: var(--gray-600);
    line-height: 1.6;
  }

  /* Final CTA */
  .final-cta {
    background: linear-gradient(135deg, var(--charcoal) 0%, #1a2028 100%);
    color: white;
  }

  .final-cta .heading-2 {
    color: white;
  }

  .final-cta .body-large {
    color: rgba(255, 255, 255, 0.8);
    margin-bottom: var(--space-xl);
  }

  .cta-buttons {
    display: flex;
    gap: var(--space-md);
    justify-content: center;
    flex-wrap: wrap;
  }

  /* Responsive */
  @media (max-width: 1024px) {
    .content-grid {
      grid-template-columns: 1fr;
    }

    .content-sidebar {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: var(--space-lg);
    }
  }

  @media (max-width: 768px) {
    .broker-card {
      grid-template-columns: 1fr;
      text-align: center;
    }

    .broker-card-rank {
      display: none;
    }

    .broker-card-header {
      justify-content: center;
    }

    .broker-stats {
      justify-content: center;
    }

    .broker-pros {
      justify-content: center;
    }

    .broker-card-actions {
      flex-direction: row;
      justify-content: center;
    }
  }
</style>
