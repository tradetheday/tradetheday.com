---
import BaseLayout from '../../layouts/BaseLayout.astro';

// Deal configuration - easy to update
const deal = {
  broker: "AvaTrade",
  brokerLogo: "/images/brokers/avatrade/avatrade-logo-light.svg",
  headline: "Exclusive Trading Deal",
  subheadline: "Get up to $10,000 Welcome Bonus + Free Trading Signals",
  originalValue: "$2,997",
  dealPrice: "FREE",
  bonusAmount: "$10,000",
  partnerCode: "128979",
  ctaLink: "/go/avatrade",
  ctaText: "Claim This Deal Now",
  spotsTotal: 500,
  spotsClaimed: 347,
  endDate: "2026-02-28",
  features: [
    { icon: "üí∞", title: "Up to $10,000 Bonus", desc: "Deposit bonus on your first funding" },
    { icon: "üìä", title: "Free Trading Signals", desc: "Daily signals from expert analysts" },
    { icon: "üõ°Ô∏è", title: "AvaProtect‚Ñ¢ Insurance", desc: "Protect trades from losses" },
    { icon: "üì±", title: "Award-Winning Apps", desc: "Trade anywhere on any device" },
    { icon: "üéì", title: "1-on-1 Training", desc: "Personal account manager support" },
    { icon: "‚ö°", title: "Instant Execution", desc: "Lightning-fast order fills" }
  ],
  testimonials: [
    { name: "Marcus T.", location: "London, UK", text: "Best bonus I've ever received from a broker. The trading signals alone are worth thousands.", avatar: "üë®‚Äçüíº" },
    { name: "Sarah K.", location: "Sydney, AU", text: "AvaProtect saved me $2,400 on a single trade. This deal is insane value.", avatar: "üë©‚Äçüíª" },
    { name: "James R.", location: "New York, US", text: "Switched from my old broker and got the full bonus. Customer service is excellent.", avatar: "üë®‚Äçü¶±" }
  ],
  bonusTiers: [
    { deposit: "$100 - $499", bonus: "$100", percentage: "100%" },
    { deposit: "$500 - $999", bonus: "$500", percentage: "100%" },
    { deposit: "$1,000 - $4,999", bonus: "$1,000", percentage: "100%" },
    { deposit: "$5,000 - $9,999", bonus: "$2,500", percentage: "50%" },
    { deposit: "$10,000+", bonus: "$10,000", percentage: "100%" }
  ]
};

// Calculate spots remaining
const spotsRemaining = deal.spotsTotal - deal.spotsClaimed;
const spotsPercentage = (deal.spotsClaimed / deal.spotsTotal) * 100;

// Page metadata
const pageTitle = `${deal.broker} Exclusive Deal - ${deal.bonusAmount} Welcome Bonus | TradeTheDay`;
const pageDescription = `Limited time offer: Get up to ${deal.bonusAmount} welcome bonus with ${deal.broker}. Only ${spotsRemaining} spots remaining. Claim your exclusive deal now.`;
---

<BaseLayout
  title={pageTitle}
  description={pageDescription}
>
  <!-- FIXED COUNTDOWN BAR -->
  <div class="deal-countdown-bar">
    <div class="countdown-bar-content">
      <span class="countdown-bar-fire">üî•</span>
      <span class="countdown-bar-text"><strong>DEAL ENDS IN:</strong></span>
      <div class="countdown-bar-timer" id="countdownBar" data-end={deal.endDate}>
        <div class="countdown-unit">
          <span class="countdown-value" id="barDays">00</span>
          <span class="countdown-label">DAYS</span>
        </div>
        <span class="countdown-sep">:</span>
        <div class="countdown-unit">
          <span class="countdown-value" id="barHours">00</span>
          <span class="countdown-label">HRS</span>
        </div>
        <span class="countdown-sep">:</span>
        <div class="countdown-unit">
          <span class="countdown-value" id="barMins">00</span>
          <span class="countdown-label">MIN</span>
        </div>
        <span class="countdown-sep">:</span>
        <div class="countdown-unit">
          <span class="countdown-value" id="barSecs">00</span>
          <span class="countdown-label">SEC</span>
        </div>
      </div>
      <a href={deal.ctaLink} class="countdown-bar-cta" target="_blank" rel="noopener">CLAIM {deal.bonusAmount} BONUS</a>
    </div>
  </div>

  <!-- 3D FLOATING TRADING SYMBOLS -->
  <div class="floating-world" aria-hidden="true">
    <!-- Gold Coins Stack -->
    <div class="float-item float-gold-coins">
      <div class="coin-stack">
        <div class="coin coin-1">ü™ô</div>
        <div class="coin coin-2">ü™ô</div>
        <div class="coin coin-3">ü™ô</div>
      </div>
    </div>

    <!-- Bitcoin Spinning -->
    <div class="float-item float-bitcoin">
      <div class="spin-3d">‚Çø</div>
    </div>

    <!-- Gold Bar -->
    <div class="float-item float-goldbar">
      <div class="goldbar">ü•á</div>
    </div>

    <!-- Chart Up -->
    <div class="float-item float-chart">
      <div class="bounce-rotate">üìà</div>
    </div>

    <!-- Dollar Sign -->
    <div class="float-item float-dollar">
      <div class="spin-y">$</div>
    </div>

    <!-- Euro -->
    <div class="float-item float-euro">
      <div class="wobble">‚Ç¨</div>
    </div>

    <!-- Diamond -->
    <div class="float-item float-diamond">
      <div class="spin-3d">üíé</div>
    </div>

    <!-- Rocket -->
    <div class="float-item float-rocket">
      <div class="rocket-float">üöÄ</div>
    </div>

    <!-- Pound -->
    <div class="float-item float-pound">
      <div class="spin-y">¬£</div>
    </div>

    <!-- Fire -->
    <div class="float-item float-fire">
      <div class="pulse-scale">üî•</div>
    </div>

    <!-- Yen -->
    <div class="float-item float-yen">
      <div class="wobble">¬•</div>
    </div>

    <!-- Money Bag -->
    <div class="float-item float-moneybag">
      <div class="bounce-rotate">üí∞</div>
    </div>
  </div>

  <!-- HERO SECTION -->
  <section class="deal-hero">
    <div class="hero-content-wrapper">
      <!-- Central 3D Trading Element -->
      <div class="hero-3d-element">
        <div class="trading-cards-3d">
          <div class="card-3d card-btc">
            <span class="card-symbol">‚Çø</span>
            <span class="card-label">BTC</span>
            <span class="card-change positive">+12.4%</span>
          </div>
          <div class="card-3d card-gold">
            <span class="card-symbol">ü•á</span>
            <span class="card-label">GOLD</span>
            <span class="card-change positive">+3.2%</span>
          </div>
          <div class="card-3d card-forex">
            <span class="card-symbol">üí±</span>
            <span class="card-label">EUR/USD</span>
            <span class="card-change negative">-0.8%</span>
          </div>
        </div>
      </div>

      <!-- Main Content -->
      <div class="hero-main">
        <h1 class="mega-headline">
          BIG BONUS.<br/>
          BIG WINS.<br/>
          <span class="highlight-text">EVERY TRADE.</span>
        </h1>

        <p class="hero-tagline">YOUR PATH TO TRADING SUCCESS STARTS HERE</p>

        <a href={deal.ctaLink} class="mega-cta" target="_blank" rel="noopener">
          CLAIM YOUR BONUS
        </a>

        <p class="terms-link">T&Cs apply</p>
      </div>
    </div>
  </section>

  <!-- DEAL CARD SECTION -->
  <section class="deal-card-section">
    <div class="container">
      <!-- Tabs -->
      <div class="deal-tabs">
        <button class="tab-btn active">This Week's Deal</button>
        <button class="tab-btn">Past Winners</button>
        <button class="tab-btn">{deal.bonusAmount} Bonus</button>
      </div>

      <!-- Main Deal Card -->
      <div class="deal-main-card">
        <div class="card-status">
          <span class="status-icon">‚úì</span>
          <div class="status-text">
            <strong>Deal Active!</strong>
            <span>Claim your bonus below</span>
          </div>
        </div>

        <div class="deal-info-card">
          <div class="confetti-icon">üéâ</div>
          <h2 class="deal-card-title">Exclusive Bonus Available!</h2>
          <p class="deal-card-subtitle">You're eligible for up to</p>

          <div class="bonus-amount-display">
            <span class="bonus-currency">$</span>
            <span class="bonus-number">10,000</span>
          </div>

          <p class="broker-name">with <strong>{deal.broker}</strong></p>

          <!-- Countdown -->
          <div class="countdown-inline">
            <span class="countdown-icon">‚è∞</span>
            <span class="countdown-text">Offer expires in</span>
            <span class="countdown-time" id="countdownInline" data-end={deal.endDate}>5d 10:50:30</span>
          </div>

          <p class="winners-note">üéä Bonuses credited within 24 hours!</p>
          <p class="winners-note">Follow us to hear about new deals first:</p>

          <div class="social-buttons">
            <a href="https://facebook.com/tradetheday" class="social-btn social-fb" target="_blank" rel="noopener">f</a>
            <a href="https://instagram.com/tradetheday" class="social-btn social-ig" target="_blank" rel="noopener">üì∑</a>
            <a href="https://tiktok.com/@tradetheday" class="social-btn social-tt" target="_blank" rel="noopener">‚ô™</a>
          </div>

          <p class="bonus-entries-note">Complete the steps below to claim your bonus!</p>

          <a href="/advertiser-disclosure" class="terms-small-link">See full terms & conditions</a>
        </div>

        <!-- Partner Code Section -->
        <div class="partner-code-card">
          <div class="step-number-badge">1</div>
          <h3 class="code-card-title">Use Partner Code (Required for bonus)</h3>
          <p class="code-card-desc">Enter this code when signing up to activate your bonus</p>

          <div class="code-display-box">
            <span class="code-text" id="partnerCode">{deal.partnerCode}</span>
            <button class="copy-btn" onclick="copyCode()">
              <span id="copyIcon">üìã</span> Copy
            </button>
          </div>

          <a href={deal.ctaLink} class="claim-btn" target="_blank" rel="noopener">
            üöÄ Open Account & Claim Bonus
          </a>
        </div>

        <!-- Bonus Tiers -->
        <div class="bonus-tiers-card">
          <h3 class="tiers-title">üí∞ Bonus Structure</h3>

          <div class="tiers-list">
            {deal.bonusTiers.map((tier, index) => (
              <div class={`tier-item ${index === deal.bonusTiers.length - 1 ? 'tier-best' : ''}`}>
                <div class="tier-left">
                  <span class="tier-deposit">{tier.deposit}</span>
                </div>
                <div class="tier-right">
                  <span class="tier-bonus">{tier.bonus}</span>
                  <span class="tier-match">{tier.percentage} match</span>
                </div>
                {index === deal.bonusTiers.length - 1 && (
                  <span class="best-badge">üî• Best Value</span>
                )}
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FEATURES GRID -->
  <section class="features-section">
    <div class="container">
      <h2 class="section-heading">What's Included</h2>

      <div class="features-grid">
        {deal.features.map((feature) => (
          <div class="feature-box">
            <span class="feature-emoji">{feature.icon}</span>
            <h3 class="feature-name">{feature.title}</h3>
            <p class="feature-text">{feature.desc}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- TESTIMONIALS -->
  <section class="reviews-section">
    <div class="container">
      <h2 class="section-heading">Traders Love This Deal</h2>

      <div class="reviews-grid">
        {deal.testimonials.map((t) => (
          <div class="review-card">
            <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
            <p class="review-text">"{t.text}"</p>
            <div class="reviewer">
              <span class="reviewer-avatar">{t.avatar}</span>
              <div class="reviewer-info">
                <strong>{t.name}</strong>
                <span>{t.location}</span>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- FINAL CTA -->
  <section class="final-section">
    <div class="container">
      <div class="final-box">
        <div class="spots-indicator">
          <span class="pulse-dot"></span>
          <strong>{spotsRemaining}</strong> bonus spots remaining this week
        </div>

        <h2 class="final-heading">Don't Miss Out</h2>
        <p class="final-text">Join {deal.spotsClaimed}+ traders who already claimed their bonus</p>

        <a href={deal.ctaLink} class="mega-cta dark" target="_blank" rel="noopener">
          CLAIM MY {deal.bonusAmount} BONUS ‚Üí
        </a>

        <p class="final-guarantee">‚úì Free demo account ‚Ä¢ ‚úì No hidden fees ‚Ä¢ ‚úì Regulated broker</p>
      </div>
    </div>
  </section>

  <!-- DISCLAIMER -->
  <section class="disclaimer-section">
    <div class="container">
      <div class="disclaimer-content">
        <p><strong>Risk Warning:</strong> CFDs are complex instruments and come with a high risk of losing money rapidly due to leverage. <strong>76% of retail investor accounts lose money</strong> when trading CFDs with this provider. You should consider whether you understand how CFDs work and whether you can afford to take the high risk of losing your money.</p>
        <p class="disclaimer-small">This is a paid partnership. TradeTheDay may receive compensation when you sign up through our links. Terms and conditions apply to all bonus offers.</p>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
/* ==========================================================================
   VIBRANT GRADIENT BACKGROUND
   ========================================================================== */

:root {
  --gradient-hero: linear-gradient(180deg,
    #ff6b35 0%,
    #ff8c42 20%,
    #ffa62b 40%,
    #ffc845 60%,
    #ffe066 80%,
    #fff59d 100%
  );
}

/* ==========================================================================
   FIXED COUNTDOWN BAR
   ========================================================================== */

.deal-countdown-bar {
  position: fixed;
  top: 56px; /* Below header */
  left: 0;
  right: 0;
  z-index: 1001; /* Above header */
  background: linear-gradient(90deg, #1a1a2e 0%, #2d2d4a 50%, #1a1a2e 100%);
  border-bottom: 3px solid #ff4800;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  transition: top 0.3s ease;
}

/* When scrolled, countdown bar moves to top overlapping header */
.deal-countdown-bar.scrolled {
  top: 0;
}

.countdown-bar-content {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-lg);
  padding: 0.75rem var(--space-lg);
  max-width: 1400px;
  margin: 0 auto;
}

.countdown-bar-fire {
  font-size: 1.5rem;
  animation: fireFlicker 0.5s infinite alternate;
}

@keyframes fireFlicker {
  0% { transform: scale(1) rotate(-5deg); }
  100% { transform: scale(1.1) rotate(5deg); }
}

.countdown-bar-text {
  color: white;
  font-size: var(--font-size-sm);
  text-transform: uppercase;
  letter-spacing: 1px;
}

.countdown-bar-timer {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.countdown-unit {
  display: flex;
  flex-direction: column;
  align-items: center;
  background: rgba(255, 72, 0, 0.2);
  border: 1px solid rgba(255, 72, 0, 0.4);
  border-radius: var(--radius-sm);
  padding: 0.25rem 0.5rem;
  min-width: 50px;
}

.countdown-value {
  font-size: 1.25rem;
  font-weight: 900;
  color: #ff4800;
  line-height: 1;
  font-family: 'Courier New', monospace;
}

.countdown-label {
  font-size: 0.6rem;
  color: rgba(255, 255, 255, 0.6);
  text-transform: uppercase;
  letter-spacing: 1px;
}

.countdown-sep {
  color: #ff4800;
  font-weight: 900;
  font-size: 1.25rem;
}

.countdown-bar-cta {
  background: linear-gradient(135deg, #ff4800 0%, #ff6b35 100%);
  color: white;
  padding: 0.5rem 1.25rem;
  border-radius: var(--radius-full);
  font-weight: 700;
  font-size: var(--font-size-sm);
  text-decoration: none;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(255, 72, 0, 0.4);
  white-space: nowrap;
}

.countdown-bar-cta:hover {
  transform: scale(1.05);
  box-shadow: 0 6px 20px rgba(255, 72, 0, 0.5);
}

@media (max-width: 768px) {
  .deal-countdown-bar {
    top: 52px; /* Smaller header on mobile */
  }

  .deal-countdown-bar.scrolled {
    top: 0;
  }

  .countdown-bar-content {
    flex-wrap: wrap;
    gap: var(--space-sm);
    padding: 0.5rem var(--space-md);
  }

  .countdown-bar-text {
    display: none;
  }

  .countdown-unit {
    min-width: 40px;
    padding: 0.2rem 0.4rem;
  }

  .countdown-value {
    font-size: 1rem;
  }

  .countdown-bar-cta {
    font-size: var(--font-size-xs);
    padding: 0.4rem 1rem;
  }
}

/* ==========================================================================
   3D FLOATING ELEMENTS
   ========================================================================== */

.floating-world {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 100vh;
  pointer-events: none;
  z-index: 100;
  overflow: hidden;
  perspective: 1000px;
}

/* Footer stays above floating elements */
:global(footer) {
  position: relative;
  z-index: 200;
}

.float-item {
  position: absolute;
  font-size: 4rem;
  filter: drop-shadow(0 20px 40px rgba(0,0,0,0.3));
  transform-style: preserve-3d;
}

/* Positions */
.float-gold-coins { top: 8%; left: 3%; font-size: 3rem; }
.float-bitcoin { top: 15%; right: 8%; font-size: 5rem; }
.float-goldbar { top: 35%; left: 5%; font-size: 4.5rem; }
.float-chart { top: 55%; right: 3%; font-size: 3.5rem; }
.float-dollar { top: 70%; left: 8%; font-size: 5rem; }
.float-euro { top: 25%; left: 92%; font-size: 4rem; }
.float-diamond { top: 45%; left: 2%; font-size: 3rem; }
.float-rocket { top: 5%; left: 88%; font-size: 3.5rem; }
.float-pound { top: 80%; right: 10%; font-size: 4rem; }
.float-fire { top: 60%; left: 92%; font-size: 3rem; }
.float-yen { top: 85%; left: 3%; font-size: 3.5rem; }
.float-moneybag { top: 12%; left: 15%; font-size: 3rem; }

/* 3D Spin Animation (Like Tixel wristbands) */
.spin-3d {
  animation: spin3d 4s infinite linear;
  transform-style: preserve-3d;
}

@keyframes spin3d {
  0% {
    transform: rotateY(0deg) rotateX(10deg);
  }
  100% {
    transform: rotateY(360deg) rotateX(10deg);
  }
}

/* Y-Axis Spin */
.spin-y {
  animation: spinY 3s infinite linear;
}

@keyframes spinY {
  0% { transform: rotateY(0deg) scale(1); }
  50% { transform: rotateY(180deg) scale(1.1); }
  100% { transform: rotateY(360deg) scale(1); }
}

/* Wobble Float */
.wobble {
  animation: wobbleFloat 5s infinite ease-in-out;
}

@keyframes wobbleFloat {
  0%, 100% {
    transform: translateY(0) rotate(-5deg);
  }
  25% {
    transform: translateY(-20px) rotate(5deg);
  }
  50% {
    transform: translateY(-10px) rotate(-3deg);
  }
  75% {
    transform: translateY(-30px) rotate(8deg);
  }
}

/* Bounce Rotate */
.bounce-rotate {
  animation: bounceRotate 4s infinite ease-in-out;
}

@keyframes bounceRotate {
  0%, 100% {
    transform: translateY(0) rotate(0deg) scale(1);
  }
  50% {
    transform: translateY(-40px) rotate(15deg) scale(1.2);
  }
}

/* Rocket Float */
.rocket-float {
  animation: rocketFloat 3s infinite ease-in-out;
}

@keyframes rocketFloat {
  0%, 100% {
    transform: translateY(0) rotate(-45deg);
  }
  50% {
    transform: translateY(-30px) rotate(-35deg);
  }
}

/* Pulse Scale */
.pulse-scale {
  animation: pulseScale 2s infinite ease-in-out;
}

@keyframes pulseScale {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.3); }
}

/* Gold Coins Stack */
.coin-stack {
  position: relative;
  transform-style: preserve-3d;
  animation: coinStackFloat 4s infinite ease-in-out;
}

@keyframes coinStackFloat {
  0%, 100% { transform: translateY(0) rotateX(20deg) rotateY(0deg); }
  50% { transform: translateY(-20px) rotateX(20deg) rotateY(180deg); }
}

.coin {
  position: absolute;
  font-size: 3rem;
}
.coin-1 { top: 0; left: 0; }
.coin-2 { top: -8px; left: 4px; }
.coin-3 { top: -16px; left: 8px; }

/* Gold Bar */
.goldbar {
  animation: goldbarSpin 6s infinite ease-in-out;
  transform-style: preserve-3d;
}

@keyframes goldbarSpin {
  0%, 100% {
    transform: rotateY(0deg) rotateZ(-10deg) translateY(0);
  }
  50% {
    transform: rotateY(180deg) rotateZ(10deg) translateY(-25px);
  }
}

/* ==========================================================================
   HERO SECTION
   ========================================================================== */

.deal-hero {
  position: relative;
  background: var(--gradient-hero);
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: calc(var(--space-4xl) + 120px) var(--space-lg) var(--space-4xl);
  overflow: hidden;
}

.hero-content-wrapper {
  text-align: center;
  max-width: 800px;
  position: relative;
  z-index: 10;
}

/* 3D Trading Cards Hero Element */
.hero-3d-element {
  margin-bottom: var(--space-xl);
  perspective: 1000px;
}

.trading-cards-3d {
  display: flex;
  justify-content: center;
  gap: var(--space-md);
  transform-style: preserve-3d;
  animation: cardsFloat 6s infinite ease-in-out;
}

@keyframes cardsFloat {
  0%, 100% {
    transform: rotateX(5deg) rotateY(-5deg) translateY(0);
  }
  50% {
    transform: rotateX(-5deg) rotateY(5deg) translateY(-15px);
  }
}

.card-3d {
  background: rgba(255, 255, 255, 0.95);
  border-radius: var(--radius-lg);
  padding: 1rem 1.5rem;
  box-shadow:
    0 20px 40px rgba(0,0,0,0.2),
    0 0 0 1px rgba(255,255,255,0.5) inset;
  transform-style: preserve-3d;
  animation: cardWobble 4s infinite ease-in-out;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
}

.card-3d:nth-child(1) { animation-delay: 0s; }
.card-3d:nth-child(2) { animation-delay: -1.5s; transform: translateY(-10px); }
.card-3d:nth-child(3) { animation-delay: -3s; }

@keyframes cardWobble {
  0%, 100% { transform: rotateZ(-3deg) translateY(0); }
  50% { transform: rotateZ(3deg) translateY(-10px); }
}

.card-btc { border-top: 4px solid #f7931a; }
.card-gold { border-top: 4px solid #ffd700; }
.card-forex { border-top: 4px solid #06b6d4; }

.card-symbol {
  font-size: 2rem;
}

.card-label {
  font-weight: 700;
  color: #1a1a2e;
  font-size: 0.9rem;
}

.card-change {
  font-size: 0.8rem;
  font-weight: 600;
  padding: 2px 8px;
  border-radius: var(--radius-xl);
}

.card-change.positive {
  background: rgba(16, 185, 129, 0.2);
  color: #059669;
}

.card-change.negative {
  background: rgba(239, 68, 68, 0.2);
  color: #dc2626;
}

/* Mega Headline */
.mega-headline {
  font-size: clamp(3rem, 12vw, 5rem);
  font-weight: 900;
  line-height: 0.95;
  color: #1a1a2e;
  margin-bottom: var(--space-md);
  text-transform: uppercase;
  letter-spacing: -2px;
}

.highlight-text {
  background: linear-gradient(135deg, #7c3aed 0%, #db2777 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.hero-tagline {
  font-size: var(--font-size-lg);
  font-weight: 700;
  color: #1a1a2e;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: var(--space-xl);
  opacity: 0.8;
}

/* Mega CTA */
.mega-cta {
  display: inline-block;
  background: #1a1a2e;
  color: white;
  padding: 1.25rem 3rem;
  border-radius: var(--radius-full);
  font-size: var(--font-size-lg);
  font-weight: 700;
  text-decoration: none;
  text-transform: uppercase;
  letter-spacing: 1px;
  transition: all 0.3s ease;
  box-shadow: 0 10px 30px rgba(0,0,0,0.3);
}

.mega-cta:hover {
  transform: translateY(-4px) scale(1.02);
  box-shadow: 0 15px 40px rgba(0,0,0,0.4);
}

.mega-cta.dark {
  background: linear-gradient(135deg, #ff4800 0%, #ff6b35 100%);
  box-shadow: 0 10px 30px rgba(255, 72, 0, 0.4);
}

.terms-link {
  margin-top: var(--space-md);
  color: rgba(26, 26, 46, 0.6);
  font-size: var(--font-size-sm);
}

/* ==========================================================================
   DEAL CARD SECTION
   ========================================================================== */

.deal-card-section {
  position: relative;
  background: linear-gradient(180deg, #fff59d 0%, #ffffff 20%);
  padding: var(--space-4xl) 0;
}

.deal-tabs {
  display: flex;
  justify-content: center;
  gap: 0;
  margin-bottom: var(--space-xl);
  background: #f3f4f6;
  border-radius: var(--radius-full);
  padding: 4px;
  max-width: 500px;
  margin-left: auto;
  margin-right: auto;
}

.tab-btn {
  padding: 0.75rem 1.5rem;
  border: none;
  background: transparent;
  border-radius: var(--radius-full);
  font-weight: 600;
  color: #6b7280;
  cursor: pointer;
  transition: all 0.2s ease;
  font-size: var(--font-size-sm);
}

.tab-btn.active {
  background: #1a1a2e;
  color: white;
}

.deal-main-card {
  max-width: 550px;
  margin: 0 auto;
}

/* Status Card */
.card-status {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  background: #f0fdf4;
  border: 1px solid #86efac;
  border-radius: var(--radius-md);
  padding: 1rem 1.5rem;
  margin-bottom: var(--space-lg);
}

.status-icon {
  width: 32px;
  height: 32px;
  background: #22c55e;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
}

.status-text strong {
  display: block;
  color: #166534;
}

.status-text span {
  color: #4ade80;
  font-size: var(--font-size-sm);
}

/* Deal Info Card */
.deal-info-card {
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: var(--radius-xl);
  padding: var(--space-2xl);
  text-align: center;
  margin-bottom: var(--space-lg);
  box-shadow: 0 4px 20px rgba(0,0,0,0.08);
}

.confetti-icon {
  font-size: 2.5rem;
  margin-bottom: var(--space-sm);
}

.deal-card-title {
  font-size: var(--font-size-xl);
  font-weight: 700;
  color: #7c3aed;
  margin-bottom: var(--space-xs);
}

.deal-card-subtitle {
  color: #6b7280;
  margin-bottom: var(--space-md);
}

.bonus-amount-display {
  display: flex;
  align-items: flex-start;
  justify-content: center;
  margin-bottom: var(--space-sm);
}

.bonus-currency {
  font-size: 2rem;
  font-weight: 700;
  color: #1a1a2e;
  margin-top: 0.5rem;
}

.bonus-number {
  font-size: 5rem;
  font-weight: 900;
  color: #1a1a2e;
  line-height: 1;
}

.broker-name {
  color: #6b7280;
  margin-bottom: var(--space-lg);
}

.broker-name strong {
  color: #1a1a2e;
}

/* Countdown Inline */
.countdown-inline {
  display: inline-flex;
  align-items: center;
  gap: var(--space-sm);
  background: #fef3c7;
  border: 1px solid #fcd34d;
  padding: 0.5rem 1rem;
  border-radius: var(--radius-full);
  margin-bottom: var(--space-md);
}

.countdown-icon {
  font-size: 1rem;
}

.countdown-text {
  color: #92400e;
  font-size: var(--font-size-sm);
}

.countdown-time {
  color: #b45309;
  font-weight: 700;
  font-size: var(--font-size-sm);
}

.winners-note {
  color: #6b7280;
  font-size: var(--font-size-sm);
  margin-bottom: var(--space-sm);
}

.social-buttons {
  display: flex;
  justify-content: center;
  gap: var(--space-sm);
  margin-bottom: var(--space-lg);
}

.social-btn {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  text-decoration: none;
  font-weight: bold;
  color: white;
  font-size: 1rem;
}

.social-fb { background: #1877f2; }
.social-ig { background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888); }
.social-tt { background: #000000; }

.bonus-entries-note {
  color: #6b7280;
  font-size: var(--font-size-sm);
  margin-bottom: var(--space-sm);
}

.terms-small-link {
  color: #9ca3af;
  font-size: var(--font-size-xs);
  text-decoration: underline;
}

/* Partner Code Card */
.partner-code-card {
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: var(--radius-xl);
  padding: var(--space-xl);
  margin-bottom: var(--space-lg);
  position: relative;
  box-shadow: 0 4px 20px rgba(0,0,0,0.08);
}

.step-number-badge {
  position: absolute;
  top: -12px;
  left: var(--space-lg);
  width: 28px;
  height: 28px;
  background: #7c3aed;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: var(--font-size-sm);
}

.code-card-title {
  font-size: var(--font-size-lg);
  font-weight: 700;
  color: #1a1a2e;
  margin-bottom: var(--space-xs);
}

.code-card-desc {
  color: #6b7280;
  font-size: var(--font-size-sm);
  margin-bottom: var(--space-lg);
}

.code-display-box {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: #f9fafb;
  border: 2px dashed #d1d5db;
  border-radius: var(--radius-md);
  padding: 1rem 1.5rem;
  margin-bottom: var(--space-lg);
}

.code-text {
  font-family: 'Courier New', monospace;
  font-size: var(--font-size-2xl);
  font-weight: 700;
  color: #7c3aed;
  letter-spacing: 3px;
}

.copy-btn {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  background: #1a1a2e;
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: var(--radius-sm);
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.copy-btn:hover {
  background: #2d2d4a;
}

.claim-btn {
  display: block;
  width: 100%;
  background: linear-gradient(135deg, #ff4800 0%, #ff6b35 100%);
  color: white;
  text-align: center;
  padding: 1rem;
  border-radius: var(--radius-md);
  font-weight: 700;
  text-decoration: none;
  font-size: var(--font-size-lg);
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(255, 72, 0, 0.3);
}

.claim-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(255, 72, 0, 0.4);
}

/* Bonus Tiers Card */
.bonus-tiers-card {
  background: #1a1a2e;
  border-radius: var(--radius-xl);
  padding: var(--space-xl);
  color: white;
}

.tiers-title {
  font-size: var(--font-size-lg);
  font-weight: 700;
  margin-bottom: var(--space-lg);
  text-align: center;
}

.tiers-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
}

.tier-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem;
  background: rgba(255,255,255,0.05);
  border-radius: var(--radius-md);
  position: relative;
}

.tier-item.tier-best {
  background: rgba(255, 72, 0, 0.2);
  border: 1px solid rgba(255, 72, 0, 0.4);
}

.tier-deposit {
  color: rgba(255,255,255,0.8);
  font-size: var(--font-size-sm);
}

.tier-right {
  text-align: right;
}

.tier-bonus {
  display: block;
  font-weight: 700;
  color: #22c55e;
  font-size: var(--font-size-lg);
}

.tier-match {
  font-size: var(--font-size-xs);
  color: #fcd34d;
}

.best-badge {
  position: absolute;
  top: -8px;
  right: 1rem;
  background: linear-gradient(135deg, #ff4800, #ff6b35);
  color: white;
  padding: 2px 10px;
  border-radius: var(--radius-xl);
  font-size: var(--font-size-xs);
  font-weight: 700;
}

/* ==========================================================================
   FEATURES SECTION
   ========================================================================== */

.features-section {
  position: relative;
  background: white;
  padding: var(--space-4xl) 0;
}

.section-heading {
  font-size: var(--font-size-3xl);
  font-weight: 700;
  text-align: center;
  color: #1a1a2e;
  margin-bottom: var(--space-3xl);
}

.features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-xl);
  max-width: 1000px;
  margin: 0 auto;
}

.feature-box {
  text-align: center;
  padding: var(--space-xl);
  background: #f9fafb;
  border-radius: var(--radius-xl);
  transition: all 0.3s ease;
}

.feature-box:hover {
  transform: translateY(-4px);
  box-shadow: 0 10px 30px rgba(0,0,0,0.1);
}

.feature-emoji {
  font-size: 3rem;
  display: block;
  margin-bottom: var(--space-md);
}

.feature-name {
  font-size: var(--font-size-lg);
  font-weight: 700;
  color: #1a1a2e;
  margin-bottom: var(--space-sm);
}

.feature-text {
  color: #6b7280;
  line-height: 1.6;
}

/* ==========================================================================
   REVIEWS SECTION
   ========================================================================== */

.reviews-section {
  position: relative;
  background: #f9fafb;
  padding: var(--space-4xl) 0;
}

.reviews-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: var(--space-xl);
  max-width: 1000px;
  margin: 0 auto;
}

.review-card {
  background: white;
  border-radius: var(--radius-xl);
  padding: var(--space-xl);
  box-shadow: 0 4px 15px rgba(0,0,0,0.05);
  display: flex;
  flex-direction: column;
}

.review-stars {
  color: var(--brand-orange);
  font-size: var(--font-size-lg);
  margin-bottom: var(--space-md);
}

.review-text {
  color: #374151;
  font-size: var(--font-size-lg);
  line-height: 1.6;
  margin-bottom: var(--space-lg);
  font-style: italic;
  flex-grow: 1;
}

.reviewer {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  margin-top: auto;
}

.reviewer-avatar {
  font-size: 2.5rem;
}

.reviewer-info strong {
  display: block;
  color: #1a1a2e;
}

.reviewer-info span {
  color: #9ca3af;
  font-size: var(--font-size-sm);
}

/* ==========================================================================
   FINAL SECTION
   ========================================================================== */

.final-section {
  position: relative;
  z-index: 200;
  background: linear-gradient(135deg, #1a1a2e 0%, #2d2d4a 100%);
  padding: var(--space-4xl) 0;
}

.final-box {
  max-width: 600px;
  margin: 0 auto;
  text-align: center;
}

.spots-indicator {
  display: inline-flex;
  align-items: center;
  gap: var(--space-sm);
  color: #ef4444;
  font-size: var(--font-size-lg);
  margin-bottom: var(--space-lg);
}

.pulse-dot {
  width: 12px;
  height: 12px;
  background: #ef4444;
  border-radius: 50%;
  animation: pulseDot 1.5s infinite;
}

@keyframes pulseDot {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.5; transform: scale(1.3); }
}

.final-heading {
  font-size: var(--font-size-4xl);
  font-weight: 700;
  color: white;
  margin-bottom: var(--space-md);
}

.final-text {
  color: rgba(255,255,255,0.8);
  font-size: var(--font-size-lg);
  margin-bottom: var(--space-xl);
}

.final-guarantee {
  color: rgba(255,255,255,0.6);
  font-size: var(--font-size-sm);
  margin-top: var(--space-lg);
}

/* ==========================================================================
   DISCLAIMER
   ========================================================================== */

.disclaimer-section {
  position: relative;
  z-index: 200;
  background: #111827;
  padding: var(--space-xl) 0;
}

.disclaimer-content {
  max-width: 900px;
  margin: 0 auto;
  color: rgba(255,255,255,0.5);
  font-size: var(--font-size-sm);
  line-height: 1.6;
}

.disclaimer-content strong {
  color: rgba(255,255,255,0.7);
}

.disclaimer-small {
  margin-top: var(--space-md);
  font-size: var(--font-size-xs);
  color: rgba(255,255,255,0.3);
}

/* ==========================================================================
   RESPONSIVE
   ========================================================================== */

@media (max-width: 768px) {
  .floating-world {
    display: none;
  }

  .mega-headline {
    font-size: 2.5rem;
  }

  .trading-cards-3d {
    flex-direction: column;
    gap: var(--space-sm);
  }

  .card-3d {
    flex-direction: row;
    justify-content: space-between;
    padding: 0.75rem 1rem;
  }

  .bonus-number {
    font-size: 4rem;
  }

  .deal-tabs {
    flex-direction: column;
    border-radius: var(--radius-lg);
  }

  .tab-btn {
    border-radius: var(--radius-md);
  }

  .code-display-box {
    flex-direction: column;
    gap: var(--space-md);
  }

  .code-text {
    font-size: var(--font-size-xl);
  }

  .tier-item {
    flex-direction: column;
    text-align: center;
    gap: var(--space-sm);
  }

  .tier-right {
    text-align: center;
  }
}
</style>

<script>
  // Countdown Timer - handles both fixed bar and inline
  document.addEventListener('DOMContentLoaded', function() {
    const countdownBar = document.getElementById('countdownBar');
    const countdownInline = document.getElementById('countdownInline');

    // Get end date from either element
    const endDateStr = countdownBar?.dataset.end || countdownInline?.dataset.end;
    if (!endDateStr) return;

    const endDate = new Date(endDateStr + 'T23:59:59').getTime();

    function updateCountdown() {
      const now = new Date().getTime();
      const distance = endDate - now;

      if (distance < 0) {
        // Handle expired state
        if (countdownInline) countdownInline.textContent = 'Expired';
        document.querySelectorAll('.countdown-value').forEach(el => el.textContent = '00');
        return;
      }

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);

      // Update fixed bar countdown
      const barDays = document.getElementById('barDays');
      const barHours = document.getElementById('barHours');
      const barMins = document.getElementById('barMins');
      const barSecs = document.getElementById('barSecs');

      if (barDays) barDays.textContent = days.toString().padStart(2, '0');
      if (barHours) barHours.textContent = hours.toString().padStart(2, '0');
      if (barMins) barMins.textContent = minutes.toString().padStart(2, '0');
      if (barSecs) barSecs.textContent = seconds.toString().padStart(2, '0');

      // Update inline countdown
      if (countdownInline) {
        countdownInline.textContent = `${days}d ${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
      }
    }

    updateCountdown();
    setInterval(updateCountdown, 1000);
  });

  // Copy Partner Code
  window.copyCode = function() {
    const code = document.getElementById('partnerCode')?.textContent;
    if (!code) return;

    navigator.clipboard.writeText(code).then(() => {
      const icon = document.getElementById('copyIcon');
      if (icon) {
        icon.textContent = '‚úì';
        setTimeout(() => { icon.textContent = 'üìã'; }, 2000);
      }
    });
  };

  // Scroll handler - countdown bar overlaps header on scroll
  const dealCountdownBar = document.querySelector('.deal-countdown-bar');
  if (dealCountdownBar) {
    let lastScroll = 0;
    window.addEventListener('scroll', () => {
      const currentScroll = window.scrollY;
      if (currentScroll > 100) {
        dealCountdownBar.classList.add('scrolled');
      } else {
        dealCountdownBar.classList.remove('scrolled');
      }
      lastScroll = currentScroll;
    }, { passive: true });
  }
</script>
