---
export interface Props {
  questions: {
    question: string;
    answer: string;
  }[];
  title?: string;
  inline?: boolean;
}

const { questions, title = "Frequently Asked Questions", inline = false } = Astro.props;
---

{inline ? (
  <div class="faq-section">
    <h2 class="faq-title">{title}</h2>
    <div class="faq-list">
      {questions.map(({ question, answer }) => (
        <details class="faq-item">
          <summary class="faq-question">{question}</summary>
          <div class="faq-answer">
            <p set:html={answer}></p>
          </div>
        </details>
      ))}
    </div>
  </div>
) : (
  <section class="section section-light">
    <div class="container">
      <h2 class="heading-2">{title}</h2>
      <div class="faq-list">
        {questions.map(({ question, answer }) => (
          <details class="faq-item">
            <summary class="faq-question">{question}</summary>
            <div class="faq-answer">
              <p set:html={answer}></p>
            </div>
          </details>
        ))}
      </div>
    </div>
  </section>
)}

<style>
  /* Inline FAQ section wrapper */
  .faq-section {
    margin-bottom: var(--space-3xl);
  }

  .faq-title {
    font-size: var(--font-size-2xl);
    margin-bottom: var(--space-lg);
  }

  .faq-list {
    margin-top: 0;
  }

  /* Hide native details marker */
  .faq-question::-webkit-details-marker {
    display: none;
  }

  .faq-question {
    list-style: none;
  }

  /* Answers - links should be orange */
  .faq-answer a {
    color: var(--brand-orange);
  }

  /* Section wrapper styles (default non-inline mode) */
  .section-light .faq-list {
    margin-top: 2rem;
  }
</style>